# External Integrations

**Analysis Date:** 2026-02-08

## APIs & External Services

**GitHub API:**
- GitHub Raw Content API - Serves OS version data and distribution statistics
  - SDK/Client: `http` 1.4.0 package
  - Base URL: `https://raw.githubusercontent.com/tonynowater87/mobile-os-versions/main/resources`
  - Implementation: `lib/data/NetworkProviderGithub.dart`
  - Endpoints:
    - `/android-os-versions.json` - Android OS version data
    - `/ios-os-versions.json` - iOS OS version data
    - `/ipad-os-versions.json` - iPad OS version data
    - `/wear-os-versions.json` - Android Wear OS data
    - `/mac-os-versions.json` - macOS version data
    - `/tv-os-versions.json` - tvOS version data
    - `/watch-os-versions.json` - watchOS version data
    - `/android-distribution.json` - Android distribution statistics
    - `/ios-distribution.json` - iOS distribution statistics
  - Auth: None (public repository)
  - Error handling: Basic try-finally blocks, no retry logic

**Google Mobile Ads:**
- Google AdMob - Mobile advertising integration
  - SDK/Client: `google_mobile_ads` 6.0.0 package
  - Implementation: `lib/view/ad/banner_ad_cubit.dart`, `lib/view/ad/banner_page.dart`
  - Purpose: Display banner advertisements in app
  - Configuration: Requires AdMob app/ad unit IDs (not found in visible code)

## Data Storage

**Databases:**
- SQLite (sqflite 2.4.2)
  - Connection: Local file-based database at runtime
  - Client: sqflite package
  - Database name: `sqflite_db.db`
  - Location determined at runtime via `databaseFactory.getDatabasesPath()`
  - Schema: Single table `url_record` tracking URL history with timestamps
  - Implementation: `lib/data/database_provider.dart`
  - Purpose: Local persistence of user-visited URLs

**Preferences:**
- Android SharedPreferences / iOS NSUserDefaults
  - Client: `shared_preferences` 2.3.3 package
  - Purpose: Key-value storage for app settings and preferences
  - Android-specific: `shared_preferences_android` 2.4.10

**File Storage:**
- Local filesystem only - No cloud storage integration
- Resources stored as bundled assets in `resources/` directory
- Web deployment via Firebase Hosting (`firebase.json`)

**Caching:**
- In-memory BLoC state management
- No explicit caching library (HTTP responses not cached)

## Authentication & Identity

**Auth Provider:**
- None for user authentication
- Firebase setup present but only for crash reporting (no auth)

**Device Identification:**
- android_id 0.3.4 - Android device unique ID
- advertising_id 2.7.1 - Advertising ID (GAID/IDFA)
- network_info_plus 6.1.4 - MAC address and network info access
- device_info_plus 11.5.0 - Device model and OS info

## Monitoring & Observability

**Error Tracking:**
- Firebase Crashlytics 3.2.0
  - Project: `mobile-os-versions` (ID: 990464626733)
  - Implementation: Initialized in `lib/main.dart`
  - Captures unhandled exceptions and crashes
  - Configuration: `lib/firebase_options.dart` (auto-generated by FlutterFire CLI)

**Logs:**
- Standard Dart `debugPrint()` function
- Database operations logged with `[DB-*]` prefixes in `lib/data/database_provider.dart`
- No external logging service integrated

**Analytics:**
- No analytics service detected (Google Analytics not configured)

## CI/CD & Deployment

**Hosting:**
- Firebase Hosting (Web)
  - Configuration: `firebase.json`
  - Public directory: `public/`
  - Project: `mobile-os-versions`
  - Firebase RC config: `.firebaserc`

**Mobile App Distribution:**
- Google Play Store (implied - AdMob integration)
- Apple App Store (implied - iOS build present)
- No CI pipeline detected (.github/workflows, GitLab CI, Circle CI not present)

**Build Management:**
- Gradle (Android) - `android/build.gradle`, `android/app/build.gradle`
- Xcode (iOS) - Controlled via Flutter's CocoaPods integration
- Flutter build system - Standard Flutter commands

## Environment Configuration

**Required env vars:**
- Firebase credentials are baked into code: `lib/firebase_options.dart`
- Google AdMob credentials (not in visible codebase)
- No `.env` file usage detected

**Secrets location:**
- Firebase API keys embedded in `lib/firebase_options.dart`:
  - Android API Key: AIzaSyDkZYH14jeaINFL_DvumaP-kOjC5ugUkH4
  - iOS API Key: AIzaSyACXyX9zZxoHIVZE-OqNO4CG-Zw6O3rPHQ
  - Project ID: mobile-os-versions
  - Storage Bucket: mobile-os-versions.appspot.com
  - GCM Sender ID: 990464626733
- iOS bundle ID: `com.tonynowater.mobileosversions.mobileOsVersions`

## Webhooks & Callbacks

**Incoming:**
- None detected

**Outgoing:**
- GitHub API calls (read-only, no webhook callbacks)
- Firebase Crashlytics automatic error reporting
- Google AdMob impression tracking (standard SDK)

## Platform-Specific Integrations

**Android (Kotlin):**
- Android Intent integration via `android_intent_plus` 5.3.0
- Access to Android device properties and system info
- Gradle dependencies managed via `android/app/build.gradle`

**iOS (Swift):**
- CocoaPods for dependency management (`ios/Podfile`)
- Minimum iOS version: 12.0
- iOS-specific Firebase configuration in `ios/firebase_app_id_file.json`

**Web:**
- Flutter web support enabled
- Firebase Hosting deployment target
- Standard web manifest: `web/manifest.json`

## Data Flow Summary

1. **Version Data**:
   - App fetches from GitHub via `NetworkProviderGithub`
   - HTTP requests to GitHub raw content
   - JSON deserialization to model objects
   - No caching mechanism; fresh fetch on each request

2. **Local URL History**:
   - User URLs stored in local SQLite database
   - CRUD operations in `database_provider.dart`
   - Queries with ordering and search functionality

3. **Error Reporting**:
   - Unhandled exceptions â†’ Firebase Crashlytics
   - Automatic on app startup initialization

4. **Advertisements**:
   - AdMob SDK displays banner ads
   - Ad unit IDs managed externally via AdMob console

---

*Integration audit: 2026-02-08*
